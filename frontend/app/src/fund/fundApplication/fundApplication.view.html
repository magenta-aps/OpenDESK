<md-nav-bar md-selected-nav-item="currentAppPage" aria-label="nav">
  <md-nav-item md-nav-sref="fund.application" name="application">{{ 'FUNDS.NAVIGATION.APPLICATION' | translate }}</md-nav-item>
  <md-nav-item md-nav-sref="fund.application.contact" name="contact">{{ 'FUNDS.NAVIGATION.CONTACTINFO' | translate }}</md-nav-item>
  <md-nav-item md-nav-sref="fund.application.history" name="history">{{ 'FUNDS.NAVIGATION.HISTORY' | translate }}</md-nav-item>

  <span flex></span>

  <md-nav-item md-nav-click="vm.paginateApps(vm.prevAppId)" ng-if="vm.prevAppId" aria-label="{{ 'FUNDS.NAVIGATION.GOTO_PREVIOUS_APPLICATION' | translate }}">
    <md-icon>keyboard_arrow_left</md-icon>
    {{ 'FUNDS.NAVIGATION.GOTO_PREVIOUS_APPLICATION' | translate }}
  </md-nav-item>

  <md-nav-item md-nav-click="vm.paginateApps(vm.nextAppId)" ng-if="vm.nextAppId" aria-label="{{ 'FUNDS.NAVIGATION.GOTO_NEXT_APPLICATION' | translate }}">
    {{ 'FUNDS.NAVIGATION.GOTO_NEXT_APPLICATION' | translate }}
    <md-icon>keyboard_arrow_right</md-icon>
  </md-nav-item>
</md-nav-bar>

<osflow-header>
  <h1>
    <md-input-container>
      <input class="md-headline" ng-model="application.title" ng-if="isEditing.get()">
      <span class="md-headline" ng-if="!isEditing.get()">{{ application.title }}</span>
    </md-input-container>
  </h1>

  <div class="fund-actions" layout="row" layout-align="start end" layout-wrap>

    <div class="md-subhead" flex="20" style="line-height: 48px;">
      <code>id-{{ application.id }}</code>
    </div>

    <div flex="80" style="text-align: right;">
      <md-button ng-if="!isEditing.get()" ng-click="vm.editApplication()"       class="md-raised md-primary">{{ 'FUNDS.NAVIGATION.EDIT_APPLICATION' | translate }}</md-button>
      <md-button ng-if="isEditing.get()"  ng-click="vm.saveApplication()"       class="md-raised md-primary">{{ 'FUNDS.NAVIGATION.SAVE_APPLICATION' | translate }}</md-button>
      <md-button ng-if="isEditing.get()"  ng-click="vm.cancelEditApplication()" class="md-raised">{{ 'FUNDS.NAVIGATION.CANCEL_EDIT_APPLICATION' | translate }}</md-button>
    </div>

    <div flex="100" style="text-align: right;">
      <span style="margin-right: 1em">Flyt ans√∏gning til stadie</span>
      <md-input-container style="margin-right: 1em">
        <md-select ng-model="vm.moveToBranch" placeholder="Stadie" ng-model-options="{trackBy: $value.nodeID}">
          <md-option ng-repeat="ref in state.references" ng-value="ref.nodeID">{{ref.title}}</md-option>
        </md-select>
      </md-input-container>
      <md-input-container>
        <md-button class="md-raised md-primary" ng-click="vm.moveApplication()">Flyt</md-button>
      </md-input-container>
    </div>

  </div>
</osflow-header>

<md-content class="od-fund-app-wrapper">
  <ng-template ui-view="application" layout="row" layout-wrap></ng-template>
</md-content>
