<table class="osflow-table" ng-controller="FundApplicationHistoryController" ng-cloak style=" grid-column: 1/-1">
    <colgroup width="50"></colgroup>
    <colgroup width="170"></colgroup>
    <colgroup width="170"></colgroup>
    <thead class="osflow-table__thead">
    <tr class="osflow-table__tr">
        <th class="osflow-table__th">Type</th>
        <th class="osflow-table__th">Timestamp</th>
        <th class="osflow-table__th">User</th>
        <th class="osflow-table__th">Content</th>
    </tr>
    </thead>
    <tbody class="osflow-table__tbody">
    <tr class="osflow-table__tr" ng-repeat="change in vm.changes | orderBy:'-timesStamp'">
        <td class="osflow-table__td">
            <md-icon ng-if="change.changeType === 'applicationUpdate'">update</md-icon>
            <md-icon ng-if="change.changeType === 'applicationCreation'">assignment</md-icon>
            <md-icon ng-if="change.changeType === 'applicationDeletion'">delete</md-icon>
        </td>
        <td class="osflow-table__td">
            {{vm.convertTimeStamp(change.timesStamp)}}
        </td>
        <td class="osflow-table__td">
            {{change.modifier}}
        </td>
        <td class="osflow-table__td">
            <table class="osflow-content-table" ng-if="change.changeType === 'applicationUpdate'">
                <tr class="osflow-content-table__tr" ng-repeat="changeUnit in change.changes">
                    <td class="osflow-content-table__td">{{ changeUnit.changedField }}</td>
                    <td class="osflow-content-table__td">{{ changeUnit.oldValue}}</td>
                    <td class="osflow-content-table__td"><md-icon>arrow_right_alt</md-icon></td>
                    <td class="osflow-content-table__td">{{changeUnit.newValue}}</td>
                </tr>
            </table>
            <table class="osflow-content-table" ng-if="change.changeType === 'applicationCreation'">
                <tr class="osflow-content-table__tr">
                    <td class="osflow-content-table__td">Ansøgning oprettet</td>
                </tr>
            </table>
            <table class="osflow-content-table" ng-if="change.changeType === 'applicationDeletion'">
                <tr class="osflow-content-table__tr">
                    <td class="osflow-content-table__td">Ansøgning slettet</td>
                </tr>
            </table>
        </td>
    </tr>
    </tbody>
</table>
