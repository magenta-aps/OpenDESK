<md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="userpanel">

    <md-toolbar>
        <span class="md-toolbar-tools" layout="row">
                    <h1>{{'USER' | translate}}</h1>
                    <span flex></span>
        <md-button class="md-icon-button" ng-click="vm.close()" aria-label="{{ 'COMMON.CLOSE' | translate }}">
            <md-icon>keyboard_arrow_right</md-icon>
        </md-button>
        </span>
    </md-toolbar>

    <md-content layout-padding="">
        <div class="od-me od-sidenav-scroll-wrapper">
            <label for="uploadBtn">
                <div class="container" layout="column" layout-align="center center">
                    <img src="{{ vm.avatar }}" class="od-avatar" alt="{{vm.user.firstName }} {{ vm.user.lastName }}">
                        <div class="middle">
                            <i class="material-icons text">edit</i>
                        </div>
                    </div>
            </label>

            <input type="file" id="uploadBtn" class="upload" file-model="file" ng-model="avatar" onchange="angular.element(this).scope().uploadAvatar(this)"
            />
            <div layout="column" layout-align="center center">
                <h2 class="md-headline">{{ vm.user.firstName }} {{ vm.user.lastName }}</h2>
            </div>
            <md-subheader>{{'USER.USERINFO' | translate}}</md-subheader>
            <md-list>
                <md-list-item>
                    <div class="md-list-item-text">
                        {{'USER.USERNAME' | translate}}:
                    </div>
                    <div class="md-secondary">
                        {{ vm.user.userName }}
                    </div>
                </md-list-item>
                <md-list-item>
                    <div class="md-list-item-text">
                        Email:
                    </div>
                    <div class="md-secondary">
                        {{ vm.user.email }}
                    </div>
                </md-list-item>
                <md-list-item>
                    <div class="md-list-item-text">
                        {{'CONTACT.PHONE' | translate}}:
                    </div>
                    <div class="md-secondary">
                        {{ vm.user.telephone }}
                    </div>
                </md-list-item>
            </md-list>

            <div ng-controller="NotificationsSettingsController as nsc">
                <md-subheader>{{'NOTIFICATION.NOTIFICATIONS' | translate}}</md-subheader>
                <md-list>
                    <md-list-item>
                        <p>{{'COMMON.SEND' | translate}} {{'NOTIFICATION.NOTIFICATIONS' | translate | lowercase}}</p>
                        <md-input-container>
                            <md-switch class="md-secondary" aria-label="Notifikationer" ng-true-value="'true'" ng-false-value="'false'" ng-model="nsc.receiveNotifications"
                                ng-change='nsc.setNotificationPreferences()'></md-switch>
                        </md-input-container>
                    </md-list-item>
                </md-list>
            </div>

            <md-button class="md-raised md-primary" id='logout' ng-controller="AuthController as ac" ng-click="ac.logout()">
                {{ 'MENU.LOGOUT' | translate }}
            </md-button>
        </div>
    </md-content>
</md-sidenav>